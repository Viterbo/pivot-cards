<ion-header>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <pivot-back-btn (click)="app.history.back();"></pivot-back-btn>
    </nav>
</ion-header> 

<ion-content [fullscreen]="true">
    <div style="display: none"><img id="pivot-azul" src="assets/img/Pívot-azul.png"></div>
    <div class="container">

        <ion-grid class="flex-grow">

            <ion-row class="ion-padding header">
                <ion-col size="8">
                    <h1>Canvas</h1>
                    <ul>
                        <li>Las <strong>cartas</strong> que se encuentren <strong>sobre el canvas</strong> definirán un nuevo modelo de negocio.</li>
                        <li [hidden]="lockcanvas">Puedes hacer <strong>click sobre el las cartas</strong> para ponerlas o secarlas del canvas.</li>
                        <li>Puedes hacer <strong>click sobre el texto del pitch</strong>, si quieres modificarlo.</li>
                    </ul>
                </ion-col>
                <ion-col size="4" class="d-flex flex-column  ion-justify-content-end">
                    <ion-item>
                        <ion-label position="floating">Producto o Servicio</ion-label>
                        <ion-input ngDefaultControl [(ngModel)]="deck.industria" (keyup)="onIndustriaChange()"></ion-input>
                    </ion-item>
                    <ion-item [hidden]="lockcanvas">
                        <mat-slide-toggle
                        color="default"
                        [checked]="useCardsExtended"
                        (change)="useCardsExtended = $event.checked; "
                        >
                            ampliar cartas
                        </mat-slide-toggle>
                    </ion-item>
                    <ion-item>
                        <mat-slide-toggle
                        color="primary"
                        [checked]="useCanvasExtended"
                        (change)="useCanvasExtended = $event.checked; "
                        >
                            canvas completo
                        </mat-slide-toggle>
                    </ion-item> 

                </ion-col>
            </ion-row>

            <!-- Cartas de cada color: con sus respectivos colores -->
            <ion-row class="">
                <ion-col>
                    <pivot-four-slots
                        [description]="useCardsExtended"
                        [deck]="deck.subset"
                        (oncard)="agregar($event)"
                        (oninit)="onSlotsReady($event)"
                    ></pivot-four-slots>
                </ion-col>
            </ion-row>

            <ion-row class="no-padding">
                <ion-col size="2"></ion-col>
                <ion-col size="8" class="ion-text-left ion-padding">
                    <editable-text
                        matTooltip="click para editar el texto"
                        matTooltipPosition="above"
                        [text]="deck.pitch" (onedit)="onEditPitch($event)"></editable-text>
                </ion-col>
                <ion-col size="2" class="d-flex ion-align-items-end ion-justify-content-end" style="padding-bottom: 16px;">
                    <button mat-raised-button [disabled]="!showPrintBtn" color="primary" class="ion-margin-bottom" (click)="print()">
                        Imprimir
                        <i class="material-icons">print</i>
                    </button>
                </ion-col>
            </ion-row>
        
            <!-- Canvas -->
            <ion-row class="ion-margin-top no-padding canvas">
                <ion-col class="ion-text-center">
                    
                    <pivot-canvas
                        [description]="useCanvasExtended"
                        (onclick)="descartar($event)"
                    ></pivot-canvas>


                </ion-col>
            </ion-row>


            
        </ion-grid>



    </div>
    <div id="html2canvas"></div>

</ion-content>